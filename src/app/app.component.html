<table>
  <thead>
    <tr>
      <th></th>
      <th *ngFor="let name of nutrientNames">{{name}}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of recipe">
      <td style="white-space:nowrap">
        <input type="number" min="0" [(ngModel)]="item.amount" (ngModelChange)="update()" style="width: 6ch">
        <span style="display: inline-block; width: 2.5ex; padding-left: 0.2em; padding-right: 0.2em">{{item.food?.density ? 'ml' : 'g'}}</span>
        <food-selector [(value)]="item.food" (valueChange)="update()"></food-selector>
      </td>
      <td *ngFor="let n of item.nutrients">{{n | nice}}</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td>Total</td>
      <td *ngFor="let n of totalNutrients">{{n | nice}}</td>
    </tr>
  </tfoot>
</table>

